!function(){"use strict";angular.module("tags-input",[]).directive("tagsInput",function(){function a(a,b){return angular.isDefined(a)?"true"===a:b}return{restrict:"A,E",scope:{tags:"=ngModel",cssClass:"@ngClass"},replace:!1,template:'<div class="ngTagsInput {{ cssClass }}">  <ul>    <li ng-repeat="tag in tags" ng-class="getCssClass($index)"><span>{{ tag }}</span><button type="button" ng-click="remove($index)">{{ removeTagSymbol }}</button></li>  </ul>  <input type="text" placeholder="{{ placeholder }}" size="{{ placeholder.length }}" maxlength="{{ maxLength }}" tabindex="{{ tabindex }}" ng-model="newTag"></div>',controller:["$scope","$attrs",function(b,c){b.placeholder=c.placeholder||"Add a tag",b.tabindex=c.tabindex,b.removeTagSymbol=c.removeTagSymbol||String.fromCharCode(215),b.replaceSpacesWithDashes=a(c.replaceSpacesWithDashes,!0),b.minLength=c.minLength||3,b.maxLength=Math.max(c.maxLength||b.placeholder.length,b.minLength),b.addOnEnter=a(c.addOnEnter,!0),b.addOnSpace=a(c.addOnSpace,!1),b.addOnComma=a(c.addOnComma,!0),b.allowedTagsPattern=new RegExp(c.allowedTagsPattern||"^[a-zA-Z0-9\\s]+$"),b.enableEditingLastTag=a(c.enableEditingLastTag,!1),b.newTag="",b.tags=b.tags||[],b.tryAdd=function(){var a=!1,c=b.newTag;return c.length>=b.minLength&&b.allowedTagsPattern.test(c)&&(b.replaceSpacesWithDashes&&(c=c.replace(/\s/g,"-")),-1===b.tags.indexOf(c)&&b.tags.push(c),b.newTag="",a=!0),a},b.tryRemoveLast=function(){var a=!1;return b.tags.length>0&&(b.enableEditingLastTag?b.newTag=b.tags.pop():b.shouldRemoveLastTag?(b.tags.pop(),b.shouldRemoveLastTag=!1):b.shouldRemoveLastTag=!0,a=!0),a},b.remove=function(a){b.tags.splice(a,1)},b.getCssClass=function(a){var c=a===b.tags.length-1;return b.shouldRemoveLastTag&&c?"selected":""},b.$watch(function(){return b.newTag.length>0},function(){b.shouldRemoveLastTag=!1})}],link:function(a,b){var c=13,d=188,e=32,f=8;b.find("input").bind("keydown",function(b){b.keyCode===c&&a.addOnEnter||b.keyCode===d&&a.addOnComma||b.keyCode===e&&a.addOnSpace?(a.tryAdd()&&a.$apply(),b.preventDefault()):b.keyCode===f&&0===this.value.length&&a.tryRemoveLast()&&(a.$apply(),b.preventDefault())}),b.find("div").bind("click",function(){b.find("input")[0].focus()})}}})}();